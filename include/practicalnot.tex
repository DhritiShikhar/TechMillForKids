\begin{circuitikz}

\draw 
	(0,3) node[ocirc](in) {} %IN node
	(0,3) node[left] {{\color{red}$IN$}} % IN label
	(0,3) |- (1,3)
	(1,3) node[circ](){}
	
	(8.5,3) node[ocirc](out){} % OUT node
	(8.75,3) node[right] {{\color{red}$OUT$}} % OUT label
	(7,3) |- (out)
	(7,3) node[circ](){}

	(2,3) node[npn, rotate=-90](Q1){}
	(2,3.5) node[above left]{$Q_1$} % Q1 label
	(4,3) node[npn](Q2){$Q_2$}
	(7,5.5) node[npn](Q3){$Q_3$}
	(7,2) node[npn](Q4){$Q_4$}
	
	
	(2,7) to [R, l^=$R_1$] (2,5)
	(4,7.5) to [R, l^=$R_2$ ](4,5.5) 
	(4,2) to [R, l^=$R_3$](4,0) 
	(7,8) to [R, l^=$R_4$](Q3.C) 


	(1,1) to [empty diode, l^=$D_1$](1,3)
	(Q3.E) to [empty diode, l^=$D_2$](Q4.C)	

	(4,8.5) node[vcc](vcc){$V_{cc}$}
    (4,0) node[ground](ground){}

	(ground) |- (1,0)
	(Q1.C) |- (Q2.B)
	(Q2.C) |- (4,4)
	(4,4) |- (Q3.B)

	(4,5.5) node[circ](){}
	(4,0) node[circ](){}
	(4,2) node[circ](){}
	(4,8.0) node[circ](){}

	(Q2.E) |- (Q4.B)
	(Q4.E) |- (7,0)
	(7,0) |- (ground)
	(7,6) to (Q3.C)
	(1,3) |- (Q1.E)
	(1,1) |- (1,0)
	(4,7.5) |- (vcc)
	(7,8) |- (4,8)
	(4,8) |- (2,8)
	(2,8) |- (2,7)
	(2,5) |- (Q1.B)
	

;
\end{circuitikz}
